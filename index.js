const data = [
    {
        image: "https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSyXO9PGwU8Y2lv7JONiXLR7jHW4e8PyiCE6lTIVzWrZ8NvKpms",
        name: "Harry Potter and the Goblet of Fire",
        info: {
            director: "Mike Newell",
            actors: ["Daniel Radcliffe", "Rupert Grint", "Emma Watson"],
            budget: "$150 million",
            release: "6 November 2005"
        },
        description: `<p><strong>Harry Potter and the Goblet of Fire</strong> is a 2005 fantasy film directed by Mike Newell and distributed by Warner Bros. Pictures, based on J. K. Rowling's 2000 novel of the same name. Produced by David Heyman and written by Steve Kloves, it is the sequel to Harry Potter and the Prisoner of Azkaban (2004) and the fourth instalment in the Harry Potter film series. The film stars Daniel Radcliffe as Harry Potter, with Rupert Grint as Ron Weasley, and Emma Watson as Hermione Granger. Its story follows Harry's fourth year at Hogwarts as he is chosen by the Goblet of Fire to compete in the Triwizard Tournament.</p>
                <p>The film is the first of the series to receive a PG-13 certificate in the US, and a 12A in the UK. Filming began in early 2004. The Hogwarts scenes were shot at the Leavesden Film Studios. Five days after its release, the film had grossed over US$102 million at the North American box office, which is the third-highest first-weekend tally for a Harry Potter film behind Harry Potter and the Deathly Hallows – Part 1 and Part 2. Goblet of Fire enjoyed an immensely successful run at the box office, earning $896 million worldwide, which made it the highest-grossing film of 2005 and the sixth-highest-grossing film in the Harry Potter series.</p>
                <p>The film was nominated for the Academy Award for Best Art Direction, and won the BAFTA Award for Best Production Design. Goblet of Fire was the second film in the series to be released in IMAX. The film is one of the best-reviewed instalments within the series, being praised for the higher level of maturity and sophistication of its characters, plotline, tone, screenplay, and the performances of the lead actors. It was followed by Harry Potter and the Order of the Phoenix in 2007.</p>`
    },
    {
        image: "https://pbs.twimg.com/media/Ejv36UaU8AAlK9B.jpg",
        name: "Alita: Battle Angel",
        info: {
            director: "Robert Rodriguez",
            actors: ["Rosa Salazar", "Christoph Waltz", "Jennifer Connelly", "Mahershala Ali"],
            budget: "$150 - 200 million",
            release: "14 February 2019"
        },
        description: `<p><strong>Alita: Battle Angel</strong> is a 2019 American cyberpunk action film based on Japanese manga artist Yukito Kishiro's 1990s series Battle Angel Alita and its 1993 original video animation adaptation, Battle Angel. It was directed by Robert Rodriguez, produced by James Cameron and written by Cameron and Laeta Kalogridis. Rosa Salazar stars through performance-capture animation as Alita, a cyborg who awakens in a new body with no memory of her past and sets out to uncover her destiny. Christoph Waltz, Jennifer Connelly, Mahershala Ali, Ed Skrein, Jackie Earle Haley and Keean Johnson star in supporting roles.</p>
                <p>Announced in 2003, production was repeatedly delayed due to Cameron's work on Avatar (2009) and its sequels. After years of development hell, Rodriguez was announced as Alita's director in April 2016, with Salazar cast as the lead the following month. Principal photography began in October 2016 in Austin, Texas, mostly at Rodriguez's Troublemaker Studios, and lasted until February 2017.</p>
                <p>Alita: Battle Angel had its world premiere at the Odeon Leicester Square on January 31, 2019, and was released in Hong Kong, Indonesia, Macau, Malaysia, Singapore, South Korea, and Taiwan on February 5, 2019, marking Chinese New Year. It was released in the United States on February 14, 2019, by 20th Century Fox in RealD 3D, Dolby Cinema, 4DX, ScreenX, and IMAX 3D formats. It is the first film produced by Lightstorm Entertainment since Avatar, and the last film released by 20th Century Fox before the acquisition of 21st Century Fox by Disney. The film grossed over $404 million worldwide, making it Rodriguez's highest-grossing film, but with a reported break-even point of $350–500 million, there is debate over whether it was profitable. It received mixed-to-positive reviews from critics, with praise for Salazar's performance, the action scenes and the visual effects but criticism for the screenplay.</p>
                <p>The film was nominated for the Academy Award for Best Art Direction, and won the BAFTA Award for Best Production Design. Goblet of Fire was the second film in the series to be released in IMAX. The film is one of the best-reviewed instalments within the series, being praised for the higher level of maturity and sophistication of its characters, plotline, tone, screenplay, and the performances of the lead actors. It was followed by Harry Potter and the Order of the Phoenix in 2007.</p>`
    },
    {
        image: "https://static1.colliderimages.com/wordpress/wp-content/uploads/2020/07/tenet-august-poster-john-david-washington-double-405x600.jpg?q=50&fit=crop&w=405&dpr=1.5",
        name: "TENET",
        info: {
            director: "Christopher Nolan",
            actors: ["John David Washington", "Robert Pattinson", "Elizabeth Debicki"],
            budget: "$200 million",
            release: "3 September 2020"
        },
        description: `<p><strong>Tenet</strong> is a 2020 science fiction action-thriller film written and directed by Christopher Nolan, who produced it with Emma Thomas. A co-production between the United Kingdom and United States, it stars John David Washington, Robert Pattinson, Elizabeth Debicki, Dimple Kapadia, Michael Caine, and Kenneth Branagh. The plot follows a secret agent (Washington) as he manipulates the flow of time to prevent World War III.</p>
                <p>Nolan took more than five years to write the screenplay after deliberating about Tenet's central ideas for over a decade. Pre-production began in late 2018, casting in March 2019, and principal photography lasted three months in Denmark, Estonia, India, Italy, Norway, the United Kingdom, and United States, from May to November. Cinematographer Hoyte van Hoytema shot on 70 mm and IMAX. Scenes of time manipulation were filmed both backwards and forwards. Upwards of one hundred vessels and thousands of extras were used.</p>
                <p>Delayed three times because of the COVID-19 pandemic, Tenet was released in the United Kingdom on August 26, 2020, and United States on September 3, 2020, in IMAX, 35 mm, and 70 mm. It was the first Hollywood tent-pole to open in theaters after the pandemic shutdown, and grossed $362 million worldwide, making it the fourth-highest-grossing film of 2020. However, it failed to break even due to its costly production and marketing budget, losing distributor Warner Bros. Pictures as much as $100 million. The film received generally favorable reviews from critics on Metacritic, with Rotten Tomatoes saying it had "all the cerebral spectacle audiences expect from a Christopher Nolan production."</p>`
    },
    {
        image: "https://m.media-amazon.com/images/M/MV5BNDJiZDliZDAtMjc5Yy00MzVhLThkY2MtNDYwNTQ2ZTM5MDcxXkEyXkFqcGdeQXVyMDA4NzMyOA@@._V1_.jpg",
        name: "The Old Guard",
        info: {
            director: "Gina Prince-Bythewood",
            actors: ["Charlize Theron", "KiKi Layne", "Marwan Kenzari", "Luca Marinelli", "Harry Melling", "Veronica Ngo", "Matthias Schoenaerts", "Chiwetel Ejiofor"],
            budget: "$70 million",
            release: "10 July 2020"
        },
        description: `<p><strong>The Old Guard</strong> is a 2020 American superhero film directed by Gina Prince-Bythewood and written by Greg Rucka, based on his comic book of the same name. The film stars Charlize Theron, KiKi Layne, Matthias Schoenaerts, Marwan Kenzari, Luca Marinelli, Harry Melling, Van Veronica Ngo and Chiwetel Ejiofor, and follows a team of immortal mercenaries on a revenge mission.</p>
                <p>The Old Guard was released on July 10, 2020, on Netflix. It received generally positive reviews from critics, with praise for the action sequences and Theron's performance.</p>`
    },
    {
        image: "https://i.pinimg.com/originals/4c/7b/4a/4c7b4ac966bd272f80da7c637218b744.jpg",
        name: "Red Sonja",
        info: {
            director: "Richard Fleischer",
            actors: ["Brigitte Nielsen", "Sandahl Bergman", "Paul Smith", "Ronald Lacey", "Arnold Schwarzenegger"],
            budget: "$17.9 million",
            release: "3 July 1985"
        },
        description: `<p><strong>Red Sonja</strong> is a 1985 Dutch-American epic sword and sorcery film directed by Richard Fleischer and written by Clive Exton and George MacDonald Fraser. It is based on the character of the same name, created by Roy Thomas and Barry Windsor-Smith, who itself is based mainly on the character Red Sonya of Rogatino, created by Robert E. Howard. The film introduces Brigitte Nielsen as the title character, with Sandahl Bergman, Paul Smith, Ronald Lacey, and Arnold Schwarzenegger in supporting roles.</p>
                <p>As in Howard's stories of Conan, the film takes place in the Hyborian Age, a fictional prehistoric time that had been depicted previously in the films Conan the Barbarian (1982) and Conan the Destroyer (1984).</p>
                <p>Red Sonja was theatrically released in the United States on July 3, 1985, by MGM/UA Entertainment Co.. Upon release, the film received generally negative reviews from critics. It grossed $6.9 million in the United States under a budget of $17.9 million, becoming a box-office bomb.</p>`
    },
    {
        image: "https://static.metacritic.com/images/products/movies/4/0dfcc70beb117d0dca2a8e29e62e63b5.jpg",
        name: "Wonder Woman 1984",
        info: {
            director: "Patty Jenkins",
            actors: ["Gal Gadot", "Chris Pine", "Kristen Wiig", "Pedro Pascal", "Robin Wright", "Connie Nielsen"],
            budget: "$200 million",
            release: "16 December 2020"
        },
        description: `<p><strong>Wonder Woman 1984</strong> is a 2020 American superhero film based on the DC Comics character Wonder Woman. It is the sequel to 2017's Wonder Woman and the ninth installment in the DC Extended Universe (DCEU). The film is directed by Patty Jenkins from a script she wrote with Geoff Johns and Dave Callaham, based on a story by Johns and Jenkins. Gal Gadot stars as Diana Prince / Wonder Woman, alongside Chris Pine, Kristen Wiig, Pedro Pascal, Robin Wright, and Connie Nielsen. Set in 1984 during the Cold War, the film follows Diana and her past love Steve Trevor as they face off against Max Lord and Cheetah.</p>
                <p>Discussion of a sequel began shortly after the release of the first film in June 2017 and the decision to proceed was confirmed the following month. Principal photography began on June 13, 2018, with filming taking place at Warner Bros. Studios, Leavesden in England, as well as the District of Columbia and Northern Virginia in the United States, London and Duxford in England, Tenerife and Fuerteventura in the Canary Islands, and Almería in Andalusia, Spain. Production wrapped on December 22, 2018, after a six-month shoot, with additional filming in July 2019.</p>
                <p>Wonder Woman 1984 premiered on December 15, 2020, via the DC FanDome virtual platform. It was theatrically released in the United States by Warner Bros. Pictures on December 25, 2020, and also made available to be streamed digitally on HBO Max for a month before it will go to premium video on demand. In international markets that do not have HBO Max, the film was theatrically released on December 16, 2020. Unlike its predecessor, it received mixed reviews from critics, who praised its "escapist qualities" and Jenkins' take on the 1980s, but found it "overindulgent or cliché". The film has grossed $131 million worldwide, and became the most-watched straight-to-streaming title of 2020. A sequel is in development, with Jenkins and Gadot returning.</p>`
    },
    {
        image: "https://i.pinimg.com/originals/a8/f8/0b/a8f80b8255ddbf684f6523f77dcf47f5.jpg",
        name: "The Tourist",
        info: {
            director: "Florian Henckel von Donnersmarck",
            actors: ["Angelina Jolie", "Johnny Depp", "Paul Bettany", "Timothy Dalton", "Steven Berkoff", "Rufus Sewell", "Christian De Sica"],
            budget: "$100 million",
            release: "10 December 2010"
        },
        description: `<p><strong>The Tourist</strong> is a 2010 American romantic thriller film co-written and directed by Florian Henckel von Donnersmarck and starring Angelina Jolie, Johnny Depp, Paul Bettany, and Timothy Dalton. It is a remake of the 2005 French film Anthony Zimmer. GK Films financed and produced the film, with Sony Pictures Worldwide Acquisitions releasing it in most countries through Columbia Pictures. The $100 million budget film went on to gross $278 million at the worldwide box office.</p>
                <p>Despite negative reception from the critics, the film was nominated for three Golden Globes, with a debate arising over the question as to whether it was a comedy or a drama. Henckel von Donnersmarck repeatedly stated it was neither genre, calling it "a travel romance with thriller elements," but that if he had to choose between the two, he would choose comedy.</p>`
    },
    {
        image: "https://i.pinimg.com/originals/77/da/b5/77dab5d1d289d7e1054a89b3149554f0.jpg",
        name: "John Wick",
        info: {
            director: "Chad Stahelski",
            actors: ["Keanu Reeves", "Michael Nyqvist", "Alfie Allen", "Adrianne Palicki", "Bridget Moynahan", "Dean Winters", "Ian McShane", "John Leguizamo", "Willem Dafoe"],
            budget: "$20 - 30 million",
            release: "19 September 2014"
        },
        description: `<p><strong>John Wick</strong> (retroactively known as John Wick: Chapter 1) is a 2014 American neo-noir action-thriller film directed by Chad Stahelski, in his directorial debut, and written by Derek Kolstad. It stars Keanu Reeves, Michael Nyqvist, Alfie Allen, Adrianne Palicki, Bridget Moynahan, Dean Winters, Ian McShane, John Leguizamo, and Willem Dafoe. It is the first installment in the John Wick film series.</p>
                <p>The story focuses on John Wick (Reeves) searching for the men who broke into his home, stole his vintage car and killed his puppy, which was a last gift to him from his recently deceased wife (Moynahan). Stahelski and David Leitch directed the film together, though only Stahelski was credited.</p>
                <p>Kolstad had completed the screenplay in 2012 and further developed it for Thunder Road Pictures. The film was produced by Basil Iwanyk of Thunder Road Pictures, Leitch, Eva Longoria, and Michael Witherill. It marks Stahelski and Leitch's directorial debut as a team after multiple separate credits as second-unit directors and stunt coordinators. They previously worked with Reeves as stunt doubles on The Matrix trilogy.</p>
                <p>Stahelski and Leitch's approach to fight scenes drew upon their admiration for anime and martial arts films. The film used fight choreographers and gun fu techniques from Hong Kong action cinema. The film also pays homage to works such as John Woo's The Killer, Jean-Pierre Melville's Le Cercle Rouge and Le Samouraï, John Boorman's Point Blank, and the spaghetti western films.</p>
                <p>The film was met with positive reviews, with critics labeling it as one of Reeves' best performances and one of the best action films of 2014. It grossed $86 million worldwide against a production budget of $20–30 million. Two sequels, John Wick: Chapter 2, and John Wick: Chapter 3 – Parabellum, released in 2017 and May 2019 respectively, both met to comparable critical and commercial success, with another sequel, John Wick: Chapter 4, set for a May 2022 release and an untitled fifth film following that.</p>`
    },
    {
        image: "https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/mv5bmzfkm2ywotqtyzk2mi00n2vllwe3ntitn2ywndg1ymy0zdnmxkeyxkfqcgdeqxvymtmxodk2otuat-v1-sy1000-cr0-0-672-1000-al-1573578642.jpg",
        name: "Home Alone",
        info: {
            director: "Chris Columbus",
            actors: ["Macaulay Culkin", "Joe Pesci", "Daniel Stern", "John Heard", "Catherine O'Hara"],
            budget: "$18 million",
            release: "10 November 1990"
        },
        description: `<p><strong>Home Alone</strong> is a 1990 American comedy film written and produced by John Hughes and directed by Chris Columbus. It stars Macaulay Culkin, Joe Pesci, Daniel Stern, John Heard, and Catherine O'Hara. Culkin stars as eight-year-old Kevin, who defends his home from burglars Harry and Marv (Pesci and Stern) after his family accidentally leaves him behind on their vacation.</p>
                <p>Home Alone was filmed between February and May 1990 in locations throughout Illinois. It was originally set to be distributed by Warner Bros., but transferred to 20th Century Fox when Hughes exceeded Warner's $10 million budget.</p>
                <p>Home Alone premiered on November 10, 1990, in Chicago, and entered wide release in the United States on November 16, 1990. With a total gross of $476.7 million, it was the highest-grossing live-action comedy until The Hangover Part II in 2011, and made Culkin a child star. It received two Golden Globe Award nominations for Best Motion Picture – Musical or Comedy and Best Actor in a Motion Picture – Musical or Comedy for Culkin, as well as two Academy Award nominations for Best Original Score, which was composed by John Williams, and Best Original Song for "Somewhere in My Memory". Since its release, Home Alone has been frequently listed as one of the best Christmas films of all time[3][4] and created a film franchise that started with the 1992 sequel Home Alone 2: Lost in New York, which is the only Home Alone sequel to have most of the original cast reprising their roles.</p>`
    },
    {
        image: "https://i.pinimg.com/originals/13/fa/ca/13faca22be153efa88a7a38ae1970141.jpg",
        name: "The Lord of the Rings: The Two Towers",
        info: {
            director: "Peter Jackson",
            actors: ["Elijah Wood", "Ian McKellen", "Liv Tyler", "Viggo Mortensen", "Sean Astin", "Cate Blanchett", "John Rhys-Davies", "Bernard Hill", "Christopher Lee", "Billy Boyd", "Dominic Monaghan", "Orlando Bloom", "Hugo Weaving", "Miranda Otto", "David Wenham", "Brad Dourif", "Karl Urban", "Andy Serkis"],
            budget: "$94 million",
            release: "18 December 2002"
        },
        description: `<p><strong>The Lord of the Rings: The Two Towers</strong> is a 2002 epic fantasy adventure film directed by Peter Jackson, based on the second volume of J. R. R. Tolkien's The Lord of the Rings. The film is the second instalment in The Lord of the Rings trilogy and was produced by Barrie M. Osborne, Fran Walsh and Jackson, and written by Walsh, Philippa Boyens, Stephen Sinclair and Jackson. The film features an ensemble cast including Elijah Wood, Ian McKellen, Liv Tyler, Viggo Mortensen, Sean Astin, Cate Blanchett, John Rhys-Davies, Bernard Hill, Christopher Lee, Billy Boyd, Dominic Monaghan, Orlando Bloom, Hugo Weaving, Miranda Otto, David Wenham, Brad Dourif, Karl Urban and Andy Serkis. It was preceded by The Fellowship of the Ring (2001) and followed by The Return of the King (2003).</p>
                <p>Continuing the plot of The Fellowship of the Ring, the film intercuts three storylines. Frodo and Sam continue their journey towards Mordor to destroy the One Ring, meeting and joined by Gollum, the ring's former owner. Aragorn, Legolas, and Gimli come to the war-torn nation of Rohan and are reunited with the resurrected Gandalf, before fighting against the legions of the treacherous wizard Saruman at the Battle of Helm's Deep. Merry and Pippin escape capture, meet Treebeard the Ent, and help to plan an attack on Isengard, fortress of Saruman.</p>
                <p>The Two Towers was financed and distributed by American studio New Line Cinema, but filmed and edited entirely in Jackson's native New Zealand, concurrently with the other two parts of the trilogy. It premiered on 5 December 2002 at the Ziegfeld Theatre in New York City and was theatrically released on 18 December 2002 in the United States, and on 19 December 2002 in New Zealand. The film was highly acclaimed by critics and fans alike, who considered it to be a landmark in filmmaking and an achievement in the fantasy film genre. It grossed $951.2 million worldwide, making it the highest-grossing film of 2002 and the third highest-grossing film of all time at the time of its release.</p>
                <p>The Two Towers is widely regarded as one of the greatest and most influential films ever made. The film received numerous accolades; at the 75th Academy Awards, it was nominated for six awards, including Best Picture, Best Art Direction, Best Film Editing and Best Sound Mixing, winning two: Best Sound Editing and Best Visual Effects.</p>`
    }
];

const mainMenu = document.querySelector("#mainMenu");
const block = document.querySelector(".blockOfContent");
const documentBody = document.body;

// appending names of movies from database to main menu
const namesOfMovies = data.reduce((prev, current, index) => {
    let liItem = document.createElement("li");
    if(index === 0) liItem.setAttribute("class", "active");
    liItem.innerText = current.name;
    prev.appendChild(liItem);

    return prev;
}, document.createDocumentFragment());

mainMenu.querySelector("ul").appendChild(namesOfMovies);
// ---

let prevActiveMovieIndex = 0;
mainMenu.addEventListener("click", e => {
    const ind = [...mainMenu.querySelectorAll("li")].indexOf(e.target);

    if(ind === prevActiveMovieIndex) return;

    mainMenu.querySelectorAll("li")[ind].classList.add('active');
    mainMenu.querySelectorAll("li")[prevActiveMovieIndex].classList.remove('active');
    prevActiveMovieIndex = ind;

    if(documentBody.offsetWidth <= 560) checkMobileMenu();
    window.scrollTo(0, 0);

    loadMovie(ind);
});

function loadMovie(movieId = 0) {
    const movie = data[movieId];

    if(movieId > data.length - 1 || !data.length) {
        alert("data not found!");
        return;
    }

    block.innerHTML = "";
    let htmlBlock = `
        <div class="mobile-title">${movie.name}</div>
        <div class="top-info">
            <div class="imageBlock">
                <img src="${movie.image}" alt="${movie.name}" />
            </div>
            <div class="block-info">
                <ul>
                    <li><span>Director:</span><span>${movie.info.director}</span></li>
                    <li><span>Actors:</span><span>${movie.info.actors.join(", ")} and others</span></li>
                    <li><span>Budget:</span><span>${movie.info.budget}</span></li>
                    <li><span>Release Date:</span><span>${movie.info.release}</span></li>
                </ul>
            </div>
        </div>
        <div class="description">${movie.description}</div>`;

    block.insertAdjacentHTML('beforeend', htmlBlock);
}
loadMovie();

// mobile menu block
const mobileMenu = document.querySelector("#mobileButton-menu");
const leftMenu = document.querySelector(".left-menu"); // visible when mobile device in horizontal position

let show = false;
leftMenu.addEventListener("click", e => {
    if(!show) {
        mainMenu.classList.add('landscape');
        documentBody.classList.add('hidden');
        show = true;
    }else {
        clearLeftMenuStyle();
    }

    e.stopPropagation();
});
documentBody.addEventListener("click", () => clearLeftMenuStyle());

function clearLeftMenuStyle() {
    if(show) {
        mainMenu.classList.remove('mobile');
        mainMenu.classList.remove('landscape');
        documentBody.classList.remove('hidden');
        show = false;
    }
}

function checkMobileMenu() {
    if(!mainMenu.classList.contains('mobile')) {
        mainMenu.classList.add('mobile');
        mobileMenu.innerText = "close";
        documentBody.classList.add('hidden');
    }else {
        mainMenu.classList.remove('mobile');
        mobileMenu.innerText = "menu";
        documentBody.classList.remove('hidden');
    }
}

mobileMenu.addEventListener("click", () => checkMobileMenu());
